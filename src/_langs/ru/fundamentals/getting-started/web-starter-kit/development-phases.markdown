---
layout: article
title: "Этапы разработки"
description: "В процессе разработки проекта каждый разработчик будет проходить различные этапы. Набор Web Starter Kit повышает производительность и упрощает выполнение ряда задач на каждом этапе"
introduction: "Имеются 3 команды, которые вы будете использовать регулярно в процессе разработки: gulp serve, gulp и gulp serve:dist. Давайте рассмотрим, как каждая из этих задач помогает при разработке сайта"
notes:
article:
  written_on: 2014-04-17
  updated_on: 2014-10-21
  order: 2
id: development-phases
priority: 1
collection: web-starter-kit
authors:
  - mattgaunt
key-takeaways:
---

{% wrap content %}

{% include modules/toc.liquid %}

## Запуск локального сервера

Первая задача выглядит так: `$ gulp serve`.

На первый взгляд, эта задача запускает локальный сервер HTTP, чтобы вы могли видеть свой сайт
в браузере, но в действительности в работе участвует еще несколько инструментов.

### Прямая перезагрузка

Прямая перезагрузка исключает традиционную необходимость перезагрузки браузера после внесения изменений в редакторе:
переход в браузер, нажатие CTRL-R и ожидание перезагрузки
страницы.

Прямая перезагрузка позволяет вносить изменения в редакторе и сразу видеть
результат в любом браузере, в котором открыт ваш сайт.

<div class="media media--video">
  <iframe src="https://www.youtube.com/embed/JE-ejS8N3YI?controls=2&amp;modestbranding=1&amp;showinfo=0&amp;utm-source=crdev-wf&amp;rel=0" frameborder="0" allowfullscreen=""></iframe>
</div>

### Тестирование в разных устройствах

Синхронизация браузера помогает тестировать сайт в нескольких устройствах. Все прокрутки,
касания или нажатия клавиш на клавиатуре будут отражаться в любом подключенном браузере.

<div class="media media--video">
  <iframe src="https://www.youtube.com/embed/RKKBIs_3svM?controls=2&amp;modestbranding=1&amp;showinfo=0&amp;utm-source=crdev-wf&amp;rel=0" frameborder="0" allowfullscreen=""></iframe>
</div>

Это работает только в том случае, если ваш сайт запущен командой `gulp serve`. Опробуйте ее: запустите
`gulp serve`, откройте URL в двух соседних окнах браузера и выполните прокрутку
одной из страниц.

### Автоматические префиксы

Если вы нацелены на совместимость с несколькими браузерами, вам потребуется использовать префиксы поставщиков, чтобы
можно было использовать возможности каждого из браузеров. Набор Web Starter Kit автоматизирует установку всех
префиксов.

Наш пример CSS (ниже) не содержит префиксов поставщиков:

    .app-bar-container {
      display: flex;

      width: 100%;
      height: 60px;
      position: relative;

      flex-direction: row;

      margin: 0 auto;
    }

В процессе сборки CSS пропускается через функцию автоматической установки префиксов, которая создает следующий
окончательный код:

    .app-bar-container {
      display: -webkit-flex;
      display: -ms-flexbox;
      display: flex;

      width: 100%;
      height: 60px;
      position: relative;

      -webkit-flex-direction: row;
          -ms-flex-direction: row;
              flex-direction: row;

      margin: 0 auto;
    }

### Проверка кода Javascript

JSHint – этот инструмент, который сканирует ваш код JavaScript c с целью поиска возможных неполадок
в логике кода JavaScript и [реализации наилучших приемов кодирования](http://www.jshint.com/docs/).

Этот инструмент запускается при каждом изменении файла JavaScript
независимо от того, выполняется ли сборка проекта или его запуск через gulp server.

### Компиляция файлов Sass

Пока выполняется команда serve, любые изменения, внесенные в файлы Sass
вашего проекта, компилируются в формат CSS с добавлением префиксов, а затем ваша
страница перезагружается с использованием механизма прямой загрузки.

Для тех, кто не знаком с Sass, поясним, что проект описывается в виде текста на
"расширенном языке CSS". Фактически это язык CSS с некоторыми дополнительными функциями. Например,
в нем добавлена поддержка переменных и функций, которая позволяет создавать файлы CSS
с модульной структурой и возможностью неоднократного использования модулей.

## Сборка рабочей версии сайта

Вы можете скомпилировать рабочую версию вашего сайта с помощью простой
команды `gulp`. Эта команда запускает некоторые задачи, которые уже рассматривались, и дополнительные
задачи, призванные ускорить загрузку вашего сайта и повысить его эффективность.

Основные задачи компиляции рабочей версии состоят в следующем:

### Создание стилей

Сначала будет выполнена компиляция Sass в вашем проекте. После компиляции Sass
 по всем файлам CSS запускается автоматическое добавление префиксов.

### Проверка кода Javascript на наличие неполадок

На втором шаге сборки по всему коду JavaScript запускается JSHint.

### Сборка страниц HTML

На следующем шаге выполняется проверка файлов HTML, выполняется поиск блоков, которые можно объединить, чтобы
уменьшить объем кода JavaScript. После оптимизации кода JavaScript процесс сборки минимизирует
страницу HTML.

Минимизация уменьшает число символов в окончательном файле JavaScript,
удаляя комментарии и ненужные пробелы, а также используя некоторые
другие приемы. При этом размер окончательного файла уменьшается, что ускоряет
загрузку вашего сайта.

Объединение означает вставку содержимого нескольких файлов в один файл. Причина, по которой
мы делаем это, состоит в том, что браузер должен выполнить только один, а не несколько запросов к серверу,
что выполняется быстрее для ваших пользователей.

Блок сборки содержит все необходимое для управления файлами JavaScript, которые мы минимизировали
и объединили. Рассмотрим пример блока сборки:

    <!-- build:js scripts/main.min.js -->
    <script src="scripts/example-1.js"></script>
    <script src="scripts/example-2.js"></script>
    <!-- endbuild -->

Блок сборки — это ни что иное, как комментарий в особом формате.
Все ваши файлы javascript из разных сборочных блоков будут слиты
(объединены) и минимизированы в одном файле с именем main.min.js, и
в окончательной сборке эти скрипты будут заменены тегом скрипта:

    <script src="scripts/main.min.js"></script>

### Оптимизация изображений

Для изображений в формате JPEG и PNG метаданные в изображениях удалены, поскольку они не требуются для
обработки изображения. Метаданные содержат такую информацию, как тип камеры, использованной для
съемки фотографии.

Для изображений в формате SVG выполняется удаление всех ненужных атрибутов, а также имеющихся
пробелов и комментариев.

### Копирование шрифтов

Эта простая задача копирует наши шрифты из приложения в каталог окончательной сборки.

### Копирование всех файлов из корневого каталога

Если в процессе сборки в корневом каталоге проекта обнаруживаются файлы, они также копируются
в окончательную сборку.

## Тестирование рабочей версии

Перед публикацией необходимо проверить, что все работает
так, как вы ожидаете. Команда `gulp serve:dist` выполняет сборку рабочей версии вашего сайта,
запускает сервер и открывает браузер. Она **не запускает функции прямой перезагрузки или
синхронизации браузера**, но это надежный способ протестировать ваш сайт перед его развертыванием.

{% include modules/nextarticle.liquid %}

{% endwrap %}
